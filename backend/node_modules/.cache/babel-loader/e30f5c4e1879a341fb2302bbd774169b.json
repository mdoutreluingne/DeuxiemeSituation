{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\xampp\\\\htdocs\\\\DeuxiemeSituation\\\\backend\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\xampp\\\\htdocs\\\\DeuxiemeSituation\\\\backend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"C:\\\\xampp\\\\htdocs\\\\DeuxiemeSituation\\\\backend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\xampp\\\\htdocs\\\\DeuxiemeSituation\\\\backend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import Dbal from\"./Dbal\";import Theme from\"../metier/Theme\";var DaoTheme=/*#__PURE__*/function(){/**\r\n     * Singleton\r\n     * @returns {DaoTheme|DaoTheme}\r\n     */function DaoTheme(){_classCallCheck(this,DaoTheme);if(!!DaoTheme.instance){return DaoTheme.instance;}/**@type {DaoTheme}**/DaoTheme.instance=this;/**@type {Dbal}**/this.dbal=new Dbal();return this;}/**\r\n     * Récupère le thème d'une salle\r\n     * @param salle {Salle}\r\n     * @returns {Promise<Theme>}\r\n     */_createClass(DaoTheme,[{key:\"getThemeBySalle\",value:function(){var _getThemeBySalle=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(salle){var reponse;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return this.dbal.get(salle.theme);case 2:reponse=_context.sent;return _context.abrupt(\"return\",new Theme(JSON.parse(reponse)));case 4:case\"end\":return _context.stop();}}},_callee,this);}));function getThemeBySalle(_x){return _getThemeBySalle.apply(this,arguments);}return getThemeBySalle;}()}]);return DaoTheme;}();export{DaoTheme as default};","map":{"version":3,"sources":["C:/xampp/htdocs/DeuxiemeSituation/backend/src/modele/DaoTheme.js"],"names":["Dbal","Theme","DaoTheme","instance","dbal","salle","get","theme","reponse","JSON","parse"],"mappings":"ugBAAA,MAAOA,CAAAA,IAAP,KAAiB,QAAjB,CACA,MAAOC,CAAAA,KAAP,KAAkB,iBAAlB,C,GAEqBC,CAAAA,Q,yBACjB;;;OAIA,mBAAc,gCACV,GAAI,CAAC,CAACA,QAAQ,CAACC,QAAf,CAAyB,CACrB,MAAOD,CAAAA,QAAQ,CAACC,QAAhB,CACH,CACD,sBACAD,QAAQ,CAACC,QAAT,CAAoB,IAApB,CACA,kBACA,KAAKC,IAAL,CAAY,GAAIJ,CAAAA,IAAJ,EAAZ,CACA,MAAO,KAAP,CACH,CAED;;;;oKAKsBK,K,oJACI,MAAKD,IAAL,CAAUE,GAAV,CAAcD,KAAK,CAACE,KAApB,C,QAAhBC,O,+CACC,GAAIP,CAAAA,KAAJ,CAAUQ,IAAI,CAACC,KAAL,CAAWF,OAAX,CAAV,C,qMAvBMN,Q","sourcesContent":["import Dbal from \"./Dbal\";\r\nimport Theme from \"../metier/Theme\";\r\n\r\nexport default class DaoTheme {\r\n    /**\r\n     * Singleton\r\n     * @returns {DaoTheme|DaoTheme}\r\n     */\r\n    constructor() {\r\n        if (!!DaoTheme.instance) {\r\n            return DaoTheme.instance;\r\n        }\r\n        /**@type {DaoTheme}**/\r\n        DaoTheme.instance = this;\r\n        /**@type {Dbal}**/\r\n        this.dbal = new Dbal();\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Récupère le thème d'une salle\r\n     * @param salle {Salle}\r\n     * @returns {Promise<Theme>}\r\n     */\r\n    async getThemeBySalle(salle){\r\n        const reponse = await this.dbal.get(salle.theme);\r\n        return new Theme(JSON.parse(reponse));\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}