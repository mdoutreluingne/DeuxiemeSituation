{"ast":null,"code":"var _jsxFileName = \"C:\\\\wamp64\\\\www\\\\PPE2\\\\DeuxiemeSituation\\\\backend\\\\src\\\\components\\\\Page.js\";\nimport React from 'react';\nimport InfosClient from './InfosClient';\nimport client from \"../metier/client\";\nimport Dbal from \"../modele/dbal\";\nexport default class Page extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      initialized: false,\n      liste_clients: props.clients,\n      client: new client(null)\n    };\n  }\n\n  async componentDidMount() {\n    const d = new Dbal();\n    const liste = [];\n    let response = await d.get(\"http://localhost:8080/api/clients\");\n    const clients = JSON.parse(response);\n\n    for (const c of clients) {\n      response = await d.get(\"http://localhost:8080\" + c.ville);\n      const ville = JSON.parse(response);\n      response = await d.get(\"http://localhost:8080/api/client/soldeById/\" + c.id);\n      const solde = JSON.parse(response);\n      console.log(solde[0][1]);\n      liste.push(new client({\n        \"id\": c.id,\n        \"nom\": c.nom,\n        \"prenom\": c.prenom,\n        \"ville\": ville.nom,\n        \"tel\": c.tel,\n        \"mail\": c.mail,\n        \"solde\": solde[0][1],\n        \"archive\": c.archive\n      }));\n    }\n\n    console.log(liste);\n    this.setState({\n      initialized: true,\n      liste_clients: liste\n    });\n  }\n\n  changeClient(client) {\n    this.setState({\n      client: client\n    });\n  }\n\n  render() {\n    const client = this.state.client;\n    return React.createElement(\"section\", {\n      className: \"page\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, React.createElement(\"section\", {\n      className: \"entete\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, React.createElement(\"section\", {\n      className: \"navigation\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      className: \"title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, \"Comptabilit\\xE9\"), React.createElement(\"h3\", {\n      className: \"nav\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, \"Client\"), React.createElement(\"h3\", {\n      className: \"nav\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, \"Transactions\"), React.createElement(\"h3\", {\n      className: \"nav\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, \"Cr\\xE9dits\")), React.createElement(\"section\", {\n      className: \"stickClient\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, client.nom), React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, client.prenom), React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, client.mail))), React.createElement(\"section\", {\n      className: \"corps\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, React.createElement(InfosClient, {\n      clients: this.state.liste_clients,\n      onChange: this.changeClient.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    })));\n  }\n\n}","map":{"version":3,"sources":["C:/wamp64/www/PPE2/DeuxiemeSituation/backend/src/components/Page.js"],"names":["React","InfosClient","client","Dbal","Page","Component","constructor","props","state","initialized","liste_clients","clients","componentDidMount","d","liste","response","get","JSON","parse","c","ville","id","solde","console","log","push","nom","prenom","tel","mail","archive","setState","changeClient","render","bind"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,WAAP,MAAwB,eAAxB;AACA,OAAOC,MAAP,MAAmB,kBAAnB;AACA,OAAOC,IAAP,MAAiB,gBAAjB;AAEA,eAAe,MAAMC,IAAN,SAAmBJ,KAAK,CAACK,SAAzB,CAAmC;AAC9CC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACTC,MAAAA,WAAW,EAAE,KADJ;AAETC,MAAAA,aAAa,EAAEH,KAAK,CAACI,OAFZ;AAGTT,MAAAA,MAAM,EAAE,IAAIA,MAAJ,CAAW,IAAX;AAHC,KAAb;AAKH;;AAED,QAAMU,iBAAN,GAA0B;AACtB,UAAMC,CAAC,GAAG,IAAIV,IAAJ,EAAV;AACA,UAAMW,KAAK,GAAI,EAAf;AACA,QAAIC,QAAQ,GAAG,MAAMF,CAAC,CAACG,GAAF,CAAM,mCAAN,CAArB;AACA,UAAML,OAAO,GAAGM,IAAI,CAACC,KAAL,CAAWH,QAAX,CAAhB;;AACA,SAAK,MAAMI,CAAX,IAAgBR,OAAhB,EAAyB;AACrBI,MAAAA,QAAQ,GAAG,MAAMF,CAAC,CAACG,GAAF,CAAM,0BAA0BG,CAAC,CAACC,KAAlC,CAAjB;AACA,YAAMA,KAAK,GAAGH,IAAI,CAACC,KAAL,CAAWH,QAAX,CAAd;AACAA,MAAAA,QAAQ,GAAG,MAAMF,CAAC,CAACG,GAAF,CAAM,gDAAgDG,CAAC,CAACE,EAAxD,CAAjB;AACA,YAAMC,KAAK,GAAGL,IAAI,CAACC,KAAL,CAAWH,QAAX,CAAd;AACAQ,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAK,CAAC,CAAD,CAAL,CAAS,CAAT,CAAZ;AACAR,MAAAA,KAAK,CAACW,IAAN,CAAW,IAAIvB,MAAJ,CAAW;AAClB,cAAMiB,CAAC,CAACE,EADU;AAElB,eAAOF,CAAC,CAACO,GAFS;AAGlB,kBAAUP,CAAC,CAACQ,MAHM;AAIlB,iBAASP,KAAK,CAACM,GAJG;AAKlB,eAAOP,CAAC,CAACS,GALS;AAMlB,gBAAQT,CAAC,CAACU,IANQ;AAOlB,iBAASP,KAAK,CAAC,CAAD,CAAL,CAAS,CAAT,CAPS;AAQlB,mBAAWH,CAAC,CAACW;AARK,OAAX,CAAX;AAUH;;AACDP,IAAAA,OAAO,CAACC,GAAR,CAAYV,KAAZ;AACA,SAAKiB,QAAL,CAAc;AACVtB,MAAAA,WAAW,EAAE,IADH;AAEVC,MAAAA,aAAa,EAAEI;AAFL,KAAd;AAIH;;AAEDkB,EAAAA,YAAY,CAAC9B,MAAD,EAAQ;AAChB,SAAK6B,QAAL,CAAc;AACV7B,MAAAA,MAAM,EAAEA;AADE,KAAd;AAGH;;AAED+B,EAAAA,MAAM,GAAG;AACL,UAAM/B,MAAM,GAAG,KAAKM,KAAL,CAAWN,MAA1B;AACA,WACI;AAAS,MAAA,SAAS,EAAC,MAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAS,MAAA,SAAS,EAAC,QAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAS,MAAA,SAAS,EAAC,YAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAI,MAAA,SAAS,EAAC,OAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBADJ,EAEI;AAAI,MAAA,SAAS,EAAC,KAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFJ,EAGI;AAAI,MAAA,SAAS,EAAC,KAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAHJ,EAII;AAAI,MAAA,SAAS,EAAC,KAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAJJ,CADJ,EAOI;AAAS,MAAA,SAAS,EAAC,aAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAKA,MAAM,CAACwB,GAAZ,CADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAKxB,MAAM,CAACyB,MAAZ,CAFJ,EAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAKzB,MAAM,CAAC2B,IAAZ,CAHJ,CAPJ,CADJ,EAcI;AAAS,MAAA,SAAS,EAAC,OAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,WAAD;AAAa,MAAA,OAAO,EAAE,KAAKrB,KAAL,CAAWE,aAAjC;AAAgD,MAAA,QAAQ,EAAE,KAAKsB,YAAL,CAAkBE,IAAlB,CAAuB,IAAvB,CAA1D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CAdJ,CADJ;AAoBH;;AAnE6C","sourcesContent":["import React from 'react';\r\nimport InfosClient from './InfosClient';\r\nimport client from \"../metier/client\";\r\nimport Dbal from \"../modele/dbal\";\r\n\r\nexport default class Page extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            initialized: false,\r\n            liste_clients: props.clients,\r\n            client: new client(null),\r\n        }\r\n    }\r\n\r\n    async componentDidMount() {\r\n        const d = new Dbal();\r\n        const liste =  [];\r\n        let response = await d.get(\"http://localhost:8080/api/clients\");\r\n        const clients = JSON.parse(response);\r\n        for (const c of clients) {\r\n            response = await d.get(\"http://localhost:8080\" + c.ville);\r\n            const ville = JSON.parse(response);\r\n            response = await d.get(\"http://localhost:8080/api/client/soldeById/\" + c.id);\r\n            const solde = JSON.parse(response);\r\n            console.log(solde[0][1]);\r\n            liste.push(new client({\r\n                \"id\": c.id,\r\n                \"nom\": c.nom,\r\n                \"prenom\": c.prenom,\r\n                \"ville\": ville.nom,\r\n                \"tel\": c.tel,\r\n                \"mail\": c.mail,\r\n                \"solde\": solde[0][1],\r\n                \"archive\": c.archive\r\n            }));\r\n        }\r\n        console.log(liste);\r\n        this.setState({\r\n            initialized: true,\r\n            liste_clients: liste\r\n        })\r\n    }\r\n\r\n    changeClient(client){\r\n        this.setState({\r\n            client: client,\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const client = this.state.client;\r\n        return(\r\n            <section className=\"page\">\r\n                <section className=\"entete\">\r\n                    <section className=\"navigation\">\r\n                        <h2 className=\"title\">Comptabilité</h2>\r\n                        <h3 className=\"nav\">Client</h3>\r\n                        <h3 className=\"nav\">Transactions</h3>\r\n                        <h3 className=\"nav\">Crédits</h3>\r\n                    </section>\r\n                    <section className=\"stickClient\">\r\n                        <h3>{client.nom}</h3>\r\n                        <h3>{client.prenom}</h3>\r\n                        <h3>{client.mail}</h3>\r\n                    </section>\r\n                </section>\r\n                <section className=\"corps\">\r\n                    <InfosClient clients={this.state.liste_clients} onChange={this.changeClient.bind(this)}/>\r\n                </section>\r\n            </section>\r\n        )\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}