{"ast":null,"code":"import Dbal from \"./Dbal\";\nimport Ville from \"../metier/Ville\";\nexport default class DaoVille {\n  /**\r\n   * Singleton\r\n   * @returns {DaoVille}\r\n   */\n  constructor() {\n    if (!!DaoVille.instance) {\n      return DaoVille.instance;\n    }\n    /**@type {DaoVille}**/\n\n\n    DaoVille.instance = this;\n    /**@type {Dbal}**/\n\n    this.dbal = new Dbal();\n    return this;\n  }\n  /**\r\n   * Récupère les villes dont le nom commence par x\r\n   * @param valeur {string}\r\n   * @returns {Promise<[]>}\r\n   */\n\n\n  async getVilleByNom(valeur) {\n    const liste = [];\n    const reponse = await this.dbal.get(\"/api/ville/villeByNom/\" + valeur);\n    const villes = JSON.parse(reponse);\n    villes.forEach(v => {\n      liste.push(new Ville(v));\n    });\n    return liste;\n  }\n\n}","map":{"version":3,"sources":["C:/xampp/htdocs/DeuxiemeSituation/backend/src/modele/DaoVille.js"],"names":["Dbal","Ville","DaoVille","constructor","instance","dbal","getVilleByNom","valeur","liste","reponse","get","villes","JSON","parse","forEach","v","push"],"mappings":"AAAA,OAAOA,IAAP,MAAiB,QAAjB;AACA,OAAOC,KAAP,MAAkB,iBAAlB;AAEA,eAAe,MAAMC,QAAN,CAAe;AAC1B;;;;AAIAC,EAAAA,WAAW,GAAG;AACV,QAAI,CAAC,CAACD,QAAQ,CAACE,QAAf,EAAyB;AACrB,aAAOF,QAAQ,CAACE,QAAhB;AACH;AACD;;;AACAF,IAAAA,QAAQ,CAACE,QAAT,GAAoB,IAApB;AACA;;AACA,SAAKC,IAAL,GAAY,IAAIL,IAAJ,EAAZ;AACA,WAAO,IAAP;AACH;AACD;;;;;;;AAKA,QAAMM,aAAN,CAAoBC,MAApB,EAA2B;AACvB,UAAMC,KAAK,GAAG,EAAd;AACA,UAAMC,OAAO,GAAG,MAAM,KAAKJ,IAAL,CAAUK,GAAV,CAAc,2BAA2BH,MAAzC,CAAtB;AACA,UAAMI,MAAM,GAAIC,IAAI,CAACC,KAAL,CAAWJ,OAAX,CAAhB;AACAE,IAAAA,MAAM,CAACG,OAAP,CAAgBC,CAAD,IAAK;AAChBP,MAAAA,KAAK,CAACQ,IAAN,CAAW,IAAIf,KAAJ,CAAUc,CAAV,CAAX;AACH,KAFD;AAGA,WAAOP,KAAP;AACH;;AA5ByB","sourcesContent":["import Dbal from \"./Dbal\";\r\nimport Ville from \"../metier/Ville\";\r\n\r\nexport default class DaoVille {\r\n    /**\r\n     * Singleton\r\n     * @returns {DaoVille}\r\n     */\r\n    constructor() {\r\n        if (!!DaoVille.instance) {\r\n            return DaoVille.instance;\r\n        }\r\n        /**@type {DaoVille}**/\r\n        DaoVille.instance = this;\r\n        /**@type {Dbal}**/\r\n        this.dbal = new Dbal();\r\n        return this;\r\n    }\r\n    /**\r\n     * Récupère les villes dont le nom commence par x\r\n     * @param valeur {string}\r\n     * @returns {Promise<[]>}\r\n     */\r\n    async getVilleByNom(valeur){\r\n        const liste = [];\r\n        const reponse = await this.dbal.get(\"/api/ville/villeByNom/\" + valeur);\r\n        const villes = (JSON.parse(reponse));\r\n        villes.forEach((v)=>{\r\n            liste.push(new Ville(v))\r\n        });\r\n        return liste;\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}