{"ast":null,"code":"var _jsxFileName = \"C:\\\\wamp64\\\\www\\\\PPE2\\\\DeuxiemeSituation\\\\backend\\\\src\\\\components\\\\Credits.js\";\nimport React from 'react';\nimport Transaction from \"../metier/Transaction\";\nimport Dbal from \"../modele/dbal\";\nconst d = new Dbal();\nexport default class Page extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      client: props.client,\n      transaction: new Transaction()\n    };\n  }\n\n  change(zone, event) {\n    const t = this.state.transaction;\n    t[zone] = event.target.value;\n    this.setState({\n      transaction: t\n    });\n  }\n\n  updateClient() {\n    this.setState({\n      client: this.props.client\n    });\n  }\n\n  async ajouter() {\n    const t = this.state.transaction;\n\n    if (t.montant > 0) {\n      const client = this.state.client;\n      client.solde = parseFloat(client.solde) + parseFloat(t.montant);\n      this.props.onAdd(client);\n    } else {\n      alert(\"Veuillez saisir un montant supérieur à 0\");\n    }\n  }\n\n  render() {\n    if (this.state.client.id !== this.props.client.id) {\n      this.updateClient();\n      return null;\n    } else {\n      const t = this.state.transaction;\n      return React.createElement(\"section\", {\n        className: \"credits\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        className: \"title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }, \"CREDITS\"), React.createElement(\"div\", {\n        className: \"saisie\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }, React.createElement(\"legend\", {\n        className: \"description\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }, \"TYPE\"), React.createElement(\"select\", {\n        className: \"zone type\",\n        value: t.type,\n        onChange: this.change.bind(this, \"type\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        value: \"Carte bancaire\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, \"Carte bancaire\"), React.createElement(\"option\", {\n        value: \"Cheque\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, \"Cheque\"))), React.createElement(\"div\", {\n        className: \"saisie\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, React.createElement(\"legend\", {\n        className: \"description\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, \"MONTANT\"), React.createElement(\"input\", {\n        type: \"number\",\n        min: \"0\",\n        className: \"zone montant\",\n        value: t.montant,\n        onChange: this.change.bind(this, \"montant\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"saisie\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, React.createElement(\"legend\", {\n        className: \"description\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, \"NUMERO\"), React.createElement(\"input\", {\n        type: \"text\",\n        className: \"zone numero\",\n        value: t.numero,\n        onChange: this.change.bind(this, \"numero\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"saisie\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, React.createElement(\"legend\", {\n        className: \"description\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, \"COMMENTAIRE\"), React.createElement(\"textarea\", {\n        className: \"zone commentaire\",\n        value: t.commentaire,\n        onChange: this.change.bind(this, \"commentaire\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      })), React.createElement(\"section\", {\n        className: \"actions\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"ajouter\",\n        onClick: this.ajouter.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, \"AJOUTER\")));\n    }\n  }\n\n}","map":{"version":3,"sources":["C:/wamp64/www/PPE2/DeuxiemeSituation/backend/src/components/Credits.js"],"names":["React","Transaction","Dbal","d","Page","Component","constructor","props","state","client","transaction","change","zone","event","t","target","value","setState","updateClient","ajouter","montant","solde","parseFloat","onAdd","alert","render","id","type","bind","numero","commentaire"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport Transaction from \"../metier/Transaction\";\r\nimport Dbal from \"../modele/dbal\";\r\n\r\nconst d = new Dbal();\r\n\r\nexport default class Page extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            client: props.client,\r\n            transaction: new Transaction(),\r\n        }\r\n    }\r\n\r\n    change(zone, event) {\r\n        const t = this.state.transaction;\r\n        t[zone] = event.target.value;\r\n        this.setState({transaction: t})\r\n    }\r\n\r\n    updateClient(){\r\n        this.setState({\r\n            client: this.props.client\r\n        })\r\n    }\r\n\r\n    async ajouter() {\r\n        const t = this.state.transaction;\r\n        if (t.montant > 0) {\r\n            const client = this.state.client;\r\n            client.solde = parseFloat(client.solde) + parseFloat(t.montant);\r\n            this.props.onAdd(client);\r\n        } else {\r\n            alert(\"Veuillez saisir un montant supérieur à 0\");\r\n        }\r\n    }\r\n\r\n    render() {\r\n        if (this.state.client.id !== this.props.client.id) {\r\n            this.updateClient();\r\n            return null\r\n        } else {\r\n            const t = this.state.transaction;\r\n            return (\r\n                <section className=\"credits\">\r\n                    <h2 className=\"title\">CREDITS</h2>\r\n                    <div className=\"saisie\">\r\n                        <legend className=\"description\">TYPE</legend>\r\n                        <select className=\"zone type\" value={t.type} onChange={this.change.bind(this, \"type\")}>\r\n                            <option value=\"Carte bancaire\">Carte bancaire</option>\r\n                            <option value=\"Cheque\">Cheque</option>\r\n                        </select>\r\n                    </div>\r\n                    <div className=\"saisie\">\r\n                        <legend className=\"description\">MONTANT</legend>\r\n                        <input type=\"number\" min=\"0\" className=\"zone montant\" value={t.montant}\r\n                               onChange={this.change.bind(this, \"montant\")}/>\r\n                    </div>\r\n                    <div className=\"saisie\">\r\n                        <legend className=\"description\">NUMERO</legend>\r\n                        <input type=\"text\" className=\"zone numero\" value={t.numero}\r\n                               onChange={this.change.bind(this, \"numero\")}/>\r\n                    </div>\r\n                    <div className=\"saisie\">\r\n                        <legend className=\"description\">COMMENTAIRE</legend>\r\n                        <textarea className=\"zone commentaire\" value={t.commentaire}\r\n                                  onChange={this.change.bind(this, \"commentaire\")}/>\r\n                    </div>\r\n                    <section className=\"actions\">\r\n                        <button className=\"ajouter\" onClick={this.ajouter.bind(this)}>AJOUTER</button>\r\n                    </section>\r\n                </section>\r\n            )\r\n        }\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}