{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\xampp\\\\htdocs\\\\DeuxiemeSituation\\\\backend\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\xampp\\\\htdocs\\\\DeuxiemeSituation\\\\backend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"C:\\\\xampp\\\\htdocs\\\\DeuxiemeSituation\\\\backend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\xampp\\\\htdocs\\\\DeuxiemeSituation\\\\backend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import Dbal from\"./Dbal\";import Ville from\"../metier/Ville\";var DaoVille=/*#__PURE__*/function(){/**\r\n     * Singleton\r\n     * @returns {DaoVille}\r\n     */function DaoVille(){_classCallCheck(this,DaoVille);if(!!DaoVille.instance){return DaoVille.instance;}/**@type {DaoVille}**/DaoVille.instance=this;/**@type {Dbal}**/this.dbal=new Dbal();return this;}/**\r\n     * Récupère les villes dont le nom commence par x\r\n     * @param valeur {string}\r\n     * @returns {Promise<[]>}\r\n     */_createClass(DaoVille,[{key:\"getVilleByNom\",value:function(){var _getVilleByNom=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(valeur){var liste,reponse,villes;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:liste=[];_context.next=3;return this.dbal.get(\"/api/ville/villeByNom/\"+valeur);case 3:reponse=_context.sent;villes=JSON.parse(reponse);villes.forEach(function(v){liste.push(new Ville(v));});return _context.abrupt(\"return\",liste);case 7:case\"end\":return _context.stop();}}},_callee,this);}));function getVilleByNom(_x){return _getVilleByNom.apply(this,arguments);}return getVilleByNom;}()}]);return DaoVille;}();export{DaoVille as default};","map":{"version":3,"sources":["C:/xampp/htdocs/DeuxiemeSituation/backend/src/modele/DaoVille.js"],"names":["Dbal","Ville","DaoVille","instance","dbal","valeur","liste","get","reponse","villes","JSON","parse","forEach","v","push"],"mappings":"ugBAAA,MAAOA,CAAAA,IAAP,KAAiB,QAAjB,CACA,MAAOC,CAAAA,KAAP,KAAkB,iBAAlB,C,GAEqBC,CAAAA,Q,yBACjB;;;OAIA,mBAAc,gCACV,GAAI,CAAC,CAACA,QAAQ,CAACC,QAAf,CAAyB,CACrB,MAAOD,CAAAA,QAAQ,CAACC,QAAhB,CACH,CACD,sBACAD,QAAQ,CAACC,QAAT,CAAoB,IAApB,CACA,kBACA,KAAKC,IAAL,CAAY,GAAIJ,CAAAA,IAAJ,EAAZ,CACA,MAAO,KAAP,CACH,CACD;;;;gKAKoBK,M,2IACVC,K,CAAQ,E,uBACQ,MAAKF,IAAL,CAAUG,GAAV,CAAc,yBAA2BF,MAAzC,C,QAAhBG,O,eACAC,M,CAAUC,IAAI,CAACC,KAAL,CAAWH,OAAX,C,CAChBC,MAAM,CAACG,OAAP,CAAe,SAACC,CAAD,CAAK,CAChBP,KAAK,CAACQ,IAAN,CAAW,GAAIb,CAAAA,KAAJ,CAAUY,CAAV,CAAX,EACH,CAFD,E,gCAGOP,K,+LA3BMJ,Q","sourcesContent":["import Dbal from \"./Dbal\";\r\nimport Ville from \"../metier/Ville\";\r\n\r\nexport default class DaoVille {\r\n    /**\r\n     * Singleton\r\n     * @returns {DaoVille}\r\n     */\r\n    constructor() {\r\n        if (!!DaoVille.instance) {\r\n            return DaoVille.instance;\r\n        }\r\n        /**@type {DaoVille}**/\r\n        DaoVille.instance = this;\r\n        /**@type {Dbal}**/\r\n        this.dbal = new Dbal();\r\n        return this;\r\n    }\r\n    /**\r\n     * Récupère les villes dont le nom commence par x\r\n     * @param valeur {string}\r\n     * @returns {Promise<[]>}\r\n     */\r\n    async getVilleByNom(valeur){\r\n        const liste = [];\r\n        const reponse = await this.dbal.get(\"/api/ville/villeByNom/\" + valeur);\r\n        const villes = (JSON.parse(reponse));\r\n        villes.forEach((v)=>{\r\n            liste.push(new Ville(v))\r\n        });\r\n        return liste;\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}