{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\xampp\\\\htdocs\\\\DeuxiemeSituation\\\\backend\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\xampp\\\\htdocs\\\\DeuxiemeSituation\\\\backend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"C:\\\\xampp\\\\htdocs\\\\DeuxiemeSituation\\\\backend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\xampp\\\\htdocs\\\\DeuxiemeSituation\\\\backend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import Dbal from\"./Dbal\";var DaoUtilisateur=/*#__PURE__*/function(){/**\r\n     * Singleton\r\n     * @returns {DaoUtilisateur|DaoUtilisateur}\r\n     */function DaoUtilisateur(){_classCallCheck(this,DaoUtilisateur);if(!!DaoUtilisateur.instance){return DaoUtilisateur.instance;}/**@type {DaoUtilisateur}**/DaoUtilisateur.instance=this;/**@type {Dbal}**/this.dbal=new Dbal();return this;}/**\r\n     * Ajoute l'utilsateur correspondant au nouveau client pour se connecter sur l'appli mobile\r\n     * @param client {Client}\r\n     * @returns {Promise<string>}\r\n     */_createClass(DaoUtilisateur,[{key:\"addUser\",value:function(){var _addUser=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(client){var login,url;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:login=client.nom+client.prenom.substr(0,2);url=\"/api/users/addUtilisateur/\"+login+\"/\"+client.nom.toLowerCase()+\"'/Joueur/\"+client.id;_context.next=4;return this.dbal.post(url);case 4:return _context.abrupt(\"return\",_context.sent);case 5:case\"end\":return _context.stop();}}},_callee,this);}));function addUser(_x){return _addUser.apply(this,arguments);}return addUser;}()}]);return DaoUtilisateur;}();export{DaoUtilisateur as default};","map":{"version":3,"sources":["C:/xampp/htdocs/DeuxiemeSituation/backend/src/modele/DaoUtilisateur.js"],"names":["Dbal","DaoUtilisateur","instance","dbal","client","login","nom","prenom","substr","url","toLowerCase","id","post"],"mappings":"ugBAAA,MAAOA,CAAAA,IAAP,KAAiB,QAAjB,C,GAEqBC,CAAAA,c,yBACjB;;;OAIA,yBAAc,sCACV,GAAI,CAAC,CAACA,cAAc,CAACC,QAArB,CAA+B,CAC3B,MAAOD,CAAAA,cAAc,CAACC,QAAtB,CACH,CACD,4BACAD,cAAc,CAACC,QAAf,CAA0B,IAA1B,CACA,kBACA,KAAKC,IAAL,CAAY,GAAIH,CAAAA,IAAJ,EAAZ,CACA,MAAO,KAAP,CACH,CAED;;;;0JAKcI,M,gIACJC,K,CAAQD,MAAM,CAACE,GAAP,CAAaF,MAAM,CAACG,MAAP,CAAcC,MAAd,CAAqB,CAArB,CAAwB,CAAxB,C,CACrBC,G,CAAM,6BAA+BJ,KAA/B,CAAuC,GAAvC,CAA2CD,MAAM,CAACE,GAAP,CAAWI,WAAX,EAA3C,CAAoE,WAApE,CAAkFN,MAAM,CAACO,E,uBACxF,MAAKR,IAAL,CAAUS,IAAV,CAAeH,GAAf,C,wOAxBAR,c","sourcesContent":["import Dbal from \"./Dbal\";\r\n\r\nexport default class DaoUtilisateur {\r\n    /**\r\n     * Singleton\r\n     * @returns {DaoUtilisateur|DaoUtilisateur}\r\n     */\r\n    constructor() {\r\n        if (!!DaoUtilisateur.instance) {\r\n            return DaoUtilisateur.instance;\r\n        }\r\n        /**@type {DaoUtilisateur}**/\r\n        DaoUtilisateur.instance = this;\r\n        /**@type {Dbal}**/\r\n        this.dbal = new Dbal();\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Ajoute l'utilsateur correspondant au nouveau client pour se connecter sur l'appli mobile\r\n     * @param client {Client}\r\n     * @returns {Promise<string>}\r\n     */\r\n    async addUser(client){\r\n        const login = client.nom + client.prenom.substr(0, 2);\r\n        const url = \"/api/users/addUtilisateur/\" + login + \"/\"+client.nom.toLowerCase()+\"'/Joueur/\" + client.id;\r\n        return await this.dbal.post(url);\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}